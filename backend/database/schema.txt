CREATE TABLE dim_restaurant(
   restaurant_id INT NOT NULL AUTO_INCREMENT,
   restaurant_name VARCHAR(100) NOT NULL,
   business_desc VARCHAR(255) NOT NULL,
   address VARCHAR(40) NOT NULL,
   city VARCHAR(40) NOT NULL,
   state VARCHAR(40) NOT NULL,
   country VARCHAR(40) NOT NULL,
   contact_num VARCHAR(40) NOT NULL,
   rest_email VARCHAR(40) NOT NULL,
   menu_id VARCHAR(40) NOT NULL,
   owner_id VARCHAR(40) NOT NULL,
   cuisine VARCHAR(40) NOT NULL,
   zip VARCHAR(40) NOT NULL,
   website VARCHAR(40) NOT NULL,
   hours VARCHAR(40) NOT NULL,
   offday VARCHAR(40) NOT NULL,
   services VARCHAR(40) NOT NULL,
   PRIMARY KEY ( restaurant_id )
);


CREATE TABLE dim_owner(
   owner_id INT NOT NULL AUTO_INCREMENT,
   owner_fname VARCHAR(100) NOT NULL,
   owner_lname VARCHAR(100) NOT NULL,
   owner_address VARCHAR(40) NOT NULL,
   owner_city VARCHAR(40) NOT NULL,
   owner_country VARCHAR(40) NOT NULL,
   owner_contact_num VARCHAR(40) NOT NULL,
   owner_email VARCHAR(40) NOT NULL,
   rest_id VARCHAR(40) NOT NULL,
   owner_state VARCHAR(40) NOT NULL,
   PRIMARY KEY ( owner_id )
);

CREATE TABLE dim_event(
   event_id INT NOT NULL AUTO_INCREMENT,
   event_name VARCHAR(100) NOT NULL,
   event_location VARCHAR(100) NOT NULL,
   event_city VARCHAR(40) NOT NULL,
   event_country VARCHAR(40) NOT NULL,
   event_contact_num VARCHAR(40) NOT NULL,
   owner_id VARCHAR(40) NOT NULL,
   rest_id VARCHAR(40) NOT NULL,
   user_id VARCHAR(40) NOT NULL,
   Interest VARCHAR(40) NOT NULL,
   PRIMARY KEY ( event_id )
);


CREATE TABLE dim_review(
   review_id INT NOT NULL AUTO_INCREMENT,
   review_desc VARCHAR(255) NOT NULL,
   rest_id VARCHAR(40) NOT NULL,
   review_ts date NOT NULL,
   PRIMARY KEY ( review_id )
);

CREATE TABLE dim_rating(
   rating_id INT NOT NULL AUTO_INCREMENT,
   order_id VARCHAR(255) NOT NULL,
   rating_num VARCHAR(255) NOT NULL,
   rest_id VARCHAR(40) NOT NULL,
   PRIMARY KEY ( rating_id )
);

CREATE TABLE dim_user(
   user_id INT NOT NULL AUTO_INCREMENT,
   fname VARCHAR(255) NOT NULL,
   lname VARCHAR(255) NOT NULL,
   email VARCHAR(40) NOT NULL,
   mobile VARCHAR(40) NOT NULL,
   dob VARCHAR(40) NOT NULL,
   city VARCHER(40) NOT NULL,
   country VARCHAR(40) NOT NULL,
   profile_pic VARCHAR(40) NOT NULL,
   bio VARCHAR(255) NOT NULL,
   favorites VARCHAR(255) NOT NULL,
   username VARCHAR(40) NOT NULL,
   password VARCHAR(40) NOT NULL,
   PRIMARY KEY ( user_id )
);

CREATE TABLE dim_menu (
  item_id int(11) NOT NULL AUTO_INCREMENT,
  restaurant_id int(11) NOT NULL,
  item_name varchar(60) NOT NULL,
  price varchar(100),
  item_description varchar(100),
  section varchar(100),
  item_image_name varchar(100),
  PRIMARY KEY (item_id),
  KEY FK (restaurant_id)
);

CREATE TABLE dim_orders (
  order_id int(11) NOT NULL AUTO_INCREMENT,
  restaurant_id int(11) NOT NULL,
  email varchar(60) NOT NULL,
  delivery_address varchar(200),
  status varchar(100) NOT NULL,
  last_modified_on varchar(150),
  PRIMARY KEY (order_id),
  KEY FK (restaurant_id, email)
);

CREATE TABLE dim_ordered_items (
  ordered_item_id int(11) NOT NULL AUTO_INCREMENT,
  order_id int(11) NOT NULL,
  item_id int(11) NOT NULL,
  quantity int(11) NOT NULL,
  PRIMARY KEY (ordered_item_id),
  KEY FK (order_id, item_id)
);



/RestaurantRegister?restaurant_name=Sankranti&business_desc=BiryaniPlace&address=101Sunnyvale&city=Sunnyvale


CREATE TABLE yelp.dim_restaurant(
   restaurant_id INT NOT NULL AUTO_INCREMENT,
   restaurant_name VARCHAR(100) NOT NULL,
   emailid VARCHAR(40) NOT NULL,
   restpass VARCHAR(255) NOT NULL,
   location VARCHAR(40) NOT NULL,
   rdescription VARCHAR(254),
   contactinfo VARCHAR(40),
   cuisine VARCHAR(40),
   timings VARCHAR(40),
   zipcode int(5),
   restaurantimage VARCHAR(255),
   PRIMARY KEY ( restaurant_id )
);

CREATE TABLE yelp.dim_menu (
  item_id int(11) NOT NULL AUTO_INCREMENT,
  restaurant_id int(11) NOT NULL,
  itemname varchar(60) NOT NULL,
  price varchar(100),
  itemdescription varchar(255),
  PRIMARY KEY (item_id)
);

CREATE TABLE yelp.dim_user(
   user_id INT NOT NULL AUTO_INCREMENT,
   fname VARCHAR(255),
   lname VARCHAR(255),
   emailid VARCHAR(40) NOT NULL,
   mobile VARCHAR(40),
   city VARCHAR(40),
   country VARCHAR(40),
   profile_pic VARCHAR(40),
   bio VARCHAR(255),
   favorites VARCHAR(255),
   user_name VARCHAR(40) NOT NULL,
   userpass VARCHAR(40) NOT NULL,
   PRIMARY KEY ( user_id )
);

CREATE TABLE yelp.dim_user(
   user_id INT NOT NULL AUTO_INCREMENT,
   fname VARCHAR(255),
   lname VARCHAR(255),
   emailid  VARCHAR(40) NOT NULL,
   mobile VARCHAR(40) ,
   city VARCHAR(40),
   address VARCHAR(255),
   profileimage VARCHAR(40),
   bio VARCHAR(255),
   favorites VARCHAR(255),
   user_name VARCHAR(40) NOT NULL,
   userpass VARCHAR(40) NOT NULL,
   zipcode INT(40) NOT NULL,
   PRIMARY KEY ( user_id )
);

CREATE TABLE yelp.dim_menu (
  item_id int(11) NOT NULL AUTO_INCREMENT,
  restaurant_id int(11) NOT NULL,
  itemname varchar(60) NOT NULL,
  price varchar(100),
  item_description varchar(255),
  foodimage varchar(255),
  itemcategory varchar(100),
  quantity int(11),
  PRIMARY KEY (item_id)
);

CREATE TABLE yelp.dim_cart(
   cart_id INT NOT NULL AUTO_INCREMENT,
   item_id VARCHAR(255) NOT NULL,
   itemname VARCHAR(40) NOT NULL,
   restaurant_id VARCHAR(40) NOT NULL,
   price VARCHAR(40) NOT NULL,
   foodimage VARCHAR(255) NOT NULL,
   user_id VARCHAR(40) NOT NULL,
   PRIMARY KEY ( cart_id )
);


CREATE TABLE yelp.dim_order(
   order_id INT NOT NULL AUTO_INCREMENT,
   fullname VARCHAR(255) NOT NULL,
   address VARCHAR(40) NOT NULL,
   city VARCHAR(40) NOT NULL,
   zipcode INT(40) NOT NULL,
   mode VARCHAR(255) NOT NULL,
   contactnumber INT(40) NOT NULL,
   email VARCHAR(255) NOT NULL,
   restaurant_id INT(10) NOT NULL,
   user_id INT(10) NOT NULL,
   cartprice VARCHAR(40) NOT NULL,
   status VARCHAR(40),
   PRIMARY KEY ( order_id )
);

CREATE TABLE yelp.dim_event(
   event_id INT NOT NULL AUTO_INCREMENT,
   restaurant_id INT(10),
   eventname VARCHAR(255) NOT NULL,
   eventdescription VARCHAR(255) NOT NULL,
   date date NOT NULL,
   time time NOT NULL,
   address VARCHAR(255) NOT NULL,
   city VARCHAR(255) NOT NULL,
   eventimage VARCHAR(255) NOT NULL,
   eventtype VARCHAR(255) ,
   hashtag VARCHAR(255)
   PRIMARY KEY ( event_id )
);


ALTER TABLE dim_event ADD ts datetime DEFAULT CURRENT_TIMESTAMP;